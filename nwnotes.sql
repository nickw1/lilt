-- Includes some sample data
PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE exercises (id INTEGER PRIMARY KEY autoincrement, topic INTEGER, exercise text);
INSERT INTO exercises VALUES(1,1,'If this code is run directly in the browser, it will not run as expected, i.e. it will not display Hello World. Give three reasons why not.');
INSERT INTO exercises VALUES(2,2,'Where could you write the code to do this? Consider the fact that the application uses a second state variable, which allows the user to select either light or dark mode.');
INSERT INTO exercises VALUES(3,2,'When calling an effect, you supply two pieces of information (arguments) to <code>useEffect()</code>. The first is the function you want to call. In this particular case, what should the second be?');
INSERT INTO exercises VALUES(4,2,'What components do you think you would need to implement te application according to the problem statement above?');
INSERT INTO exercises VALUES(5,2,'Answer these questions:');
CREATE TABLE questions (id INTEGER PRIMARY KEY autoincrement, eid INTEGER, question TEXT, qtype TEXT, FOREIGN KEY (eid) REFERENCES exercises(id));
INSERT INTO questions VALUES(1,1,'Reason One','text');
INSERT INTO questions VALUES(2,1,'Reason Two','text');
INSERT INTO questions VALUES(3,1,'Reason Three','text');
INSERT INTO questions VALUES(4,2,'Choose an option','options');
INSERT INTO questions VALUES(5,2,'Explain your answer:','text');
INSERT INTO questions VALUES(6,3,'Choose an option','options');
INSERT INTO questions VALUES(7,4,'List the components:','text');
INSERT INTO questions VALUES(8,5,'If we want to call a function in the <code>App</code> component from the search component, how can we do that?','text');
INSERT INTO questions VALUES(9,5,'If we want to pass the current songs from the <code>App</code> component to the results component, how can we do that?','text');
CREATE TABLE qoptions(id INTEGER PRIMARY KEY autoincrement, qid INTEGER, option TEXT, FOREIGN KEY (qid) REFERENCES questions(id));
INSERT INTO qoptions VALUES(1,4,'At the top of the component');
INSERT INTO qoptions VALUES(2,4,'In an effect');
INSERT INTO qoptions VALUES(3,4,'In a function, called from the top of the component');
INSERT INTO qoptions VALUES(4,6,'Nothing at all - just pass one argument into <code>useEffect()</code>');
INSERT INTO qoptions VALUES(5,6,'An empty array, i.e. []');
INSERT INTO qoptions VALUES(6,6,'An array containing the songs state variable, e.g. [songs]');
CREATE TABLE usercodes (id INTEGER PRIMARY KEY autoincrement, usercode INTEGER, created INTEGER);
CREATE TABLE answers (id INTEGER PRIMARY KEY autoincrement, uid INTEGER, qid INTEGER, answer TEXT, authorised INTEGER DEFAULT 0, submitted integer, FOREIGN KEY (qid) REFERENCES questions(id), FOREIGN KEY (uid) REFERENCES usercodes(id));
CREATE TABLE topics (id integer primary key autoincrement, number integer, title text, unlocked integer default 0, moduleid integer);
INSERT INTO topics VALUES(1,1,'React Revision and Vite',0,1);
INSERT INTO topics VALUES(2,2,'Effects, Server Communication, Lifting State Up',0,1);
INSERT INTO topics VALUES(3,3,'Designing Reusable Components',0,1);
CREATE TABLE admins(id integer primary key autoincrement, username text, password text);
CREATE TABLE modules (id integer primary key autoincrement, code text, name text);
INSERT INTO modules VALUES(1,'COM623','Contemporary Web Applications');
DELETE FROM sqlite_sequence;
INSERT INTO sqlite_sequence VALUES('exercises',6);
INSERT INTO sqlite_sequence VALUES('questions',9);
INSERT INTO sqlite_sequence VALUES('qoptions',6);
INSERT INTO sqlite_sequence VALUES('topics',3);
INSERT INTO sqlite_sequence VALUES('modules',1);
COMMIT;
